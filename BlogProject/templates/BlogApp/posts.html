{% extends 'BlogApp/main.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <title>Posts</title>
{% endblock %}

{% block navbar %}
    {% include 'BlogApp/navbar.html' %}
{% endblock %}

{% block main %}
    <div class="row"> {% for post in all_posts %}
   
        <div class="col-md-6 col-sm-12 ">
            <div class="card">
              <div class="bg-image hover-overlay ripple" data-mdb-ripple-color="light">
                <img src="{{ MEDIA_URL }}/{{post.post_img}}" class="img-fluid" style="width:  100%;
                height: 300px;
                background-size: cover;"/>
                <a href="#!">
                  <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                </a>
              </div>
              <div class="card-body">
                <h5 class="card-title">{{post.title}}</h5>
                <p class="card-text" style="white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;  ">
                  {{post.content}}
                </p>
                <div  class="text-center">
                    <a class="btn btn-info" href="{% url 'post' post.id %}">Read</a>
                    {% if post.user == request.user or  user.is_superuser %}
                    <a class="btn btn-info " href="{% url 'deletepost' post.id %}">Delete</a>
                    <a class="btn btn-info col-2" href="{% url 'updatepost' post.id %}">Update</a>
                    {% endif %}

                </div>
              </div>
            </div>
            <!-- <a href="{% url 'postdetails' post.id %}">
            <img class="card-img-bottom" style="width: 100%" src="{{ MEDIA_URL }}/{{post.post_img}}"  alt="Card image cap">
            </a>
            <a class="btn btn-info col-2" href="{% url 'deletepost' post.id %}">Delete</a>
            <a class="btn btn-info col-2" href="{% url 'updatepost' post.id %}">Update</a> -->
        </div>
    </div>
        
    {% endfor %}
</div>
{% endblock %}
